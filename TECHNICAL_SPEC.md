# Техническое задание

## VS Code Extension для разработки курсов лекций на базе sli.dev

**Версия:** 1.0
**Статус:** утверждённый MVP
**Цель:** минимальное расширение VS Code для удобной разработки курса лекций, состоящего из нескольких презентаций sli.dev.

---

## 1. Назначение и область применения

Расширение предназначено для преподавателей и авторов курсов, которые разрабатывают **набор лекций (презентаций)** с помощью **sli.dev** и публикуют их как единый статический сайт (например, через GitHub Pages).

Расширение:

* управляет структурой курса;
* автоматизирует создание лекций;
* упрощает запуск разработки и сборку;
* готовит курс к публикации.

Расширение **не заменяет** sli.dev и **не вмешивается** в содержимое презентаций.

---

## 2. Функциональные требования

### FR-1. Создание курса

* Создание корневой структуры курса.
* Инициализация конфигурационных файлов.

### FR-2. Сканирование курса

* Определение курса по `sliman.json`.
* Загрузка структуры и конфигурации.

### FR-3. Добавление лекций

* Создание каталога лекции.
* Копирование шаблонного `slides.md`.
* Инициализация независимого sli.dev-проекта.

### FR-4. Разработка лекций

* Открытие `slides.md`.
* Запуск dev-сервера sli.dev.

### FR-5. Сборка

* Сборка лекции в HTML.
* Обновление страницы курса со списком лекций.

### FR-6. Публикация

* Подготовка конфигурации GitHub Pages (GitHub Actions).

---

## 3. Структура проекта и форматы файлов

### 3.1. Корень проекта курса

```text
<course-root>/
├── sliman.json
├── slides/
└── <course_name>/
```

---

### 3.2. `sliman.json`

**Расположение:** корень проекта

```json
{
  "course_name": "course_data"
}
```

| Поле        | Тип    | Описание                      |
| ----------- | ------ | ----------------------------- |
| course_name | string | Имя каталога собранного курса |

---

### 3.3. Каталог `slides/`

Содержит подкаталоги лекций:

```text
slides/
├── about/
├── collection/
└── mongo/
```

Каждый каталог — **независимый sli.dev-проект**.

---

### 3.4. Структура каталога лекции

```text
slides/<lecture-name>/
├── slides.md
├── package.json
├── node_modules/        (опционально)
├── components/          (опционально)
├── public/              (опционально)
├── styles/              (опционально)
└── README.md            (опционально)
```

Требования:

* автономность;
* собственный `package.json`;
* независимый dev-сервер.

---

### 3.5. Каталог собранного курса `<course_name>/`

```text
<course_name>/
├── index.html
├── slides.json
├── about/
├── collection/
└── mongo/
```

---

### 3.6. `slides.json`

**Расположение:** `<course_name>/slides.json`

```json
{
  "slides": [
    { "name": "about", "title": "О предмете" },
    { "name": "mongo", "title": "MongoDB" }
  ]
}
```

| Поле   | Тип    | Описание                    |
| ------ | ------ | --------------------------- |
| slides | array  | Упорядоченный список лекций |
| name   | string | Идентификатор / каталог     |
| title  | string | Отображаемое название       |

Файл генерируется и обновляется автоматически.

---

## 4. Шаблоны

Расширение использует встроенные шаблоны:

```text
template/
├── slides.md
├── index.html
├── Courser.vue
├── global-top.vue
├── package.json
└── static.yml
```

### Назначение:

* `slides.md` — шаблон лекции
* `index.html` — главная страница курса
* `Courser.vue`, `global-top.vue` — UI курса
* `package.json` — сборка фронтенда курса
* `static.yml` — GitHub Actions для Pages

---

## 5. UX и команды расширения

### 5.1. Command Palette

**Курс**

* Create Course
* Scan Course
* Build Course
* Setup GitHub Pages

**Лекция**

* Add Lecture
* Run Lecture
* Build Lecture
* Open slides.md

---

### 5.2. Side Panel (Course Explorer)

```text
Course: course_data
├── Lectures
│   ├── about — О предмете
│   └── mongo — MongoDB
└── Actions
    ├── Build course
    └── Setup GitHub Pages
```

---

### 5.3. Контекстные меню

**Корень курса**

* Add Lecture
* Build Course

**Каталог лекции**

* Run
* Build
* Open slides.md

---

## 6. Архитектура расширения

### 6.1. Модули

* **Course Manager** — `sliman.json`, `slides.json`
* **Lecture Manager** — создание и открытие лекций
* **Build Manager** — запуск CLI sli.dev
* **Template Manager** — копирование шаблонов
* **UI Layer** — команды, Tree View, уведомления

---

### 6.2. Архитектурные принципы

* MVP / минимальный функционал
* KISS
* Явные команды
* Отсутствие фоновой магии

---

## 7. Нефункциональные требования

### 7.1. Производительность

* Нет постоянного сканирования.
* Все действия — по команде пользователя.

### 7.2. Надёжность

* Любая ошибка отображается пользователю.
* Нет неконсистентных состояний.

### 7.3. Безопасность

* Нет сетевых запросов.
* Нет аналитики.
* Все операции локальны.

### 7.4. Совместимость

* VS Code LTS
* Node.js LTS
* sli.dev как внешний CLI

---

## 8. Ограничения (явно зафиксированы)

Расширение **НЕ**:

* редактирует содержимое лекций;
* анализирует Markdown;
* управляет Git;
* управляет npm-зависимостями;
* расширяет sli.dev.

---

## 9. Статус

Техническое задание:

* ✅ согласовано
* ✅ готово к реализации
* ✅ соответствует MVP
